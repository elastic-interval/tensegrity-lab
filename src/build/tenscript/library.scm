(library
  (fabric (name "Seed" "Single") (build (branch (alias Single))))
  (fabric (name "Seed" "Omni") (build (branch (alias Omni))))
  (fabric (name "Seed" "Torque") (build (branch (alias Torque))))
  (fabric
    (name "Simple" "Knee")
    (build
      (branch (alias Omni)
        (face (alias Top:Right) (grow 3))
        (face (alias Front:Left) (grow 3))))
    (shape
      (vulcanize)
      (replace-faces)))
  (fabric
    (name "Simple" "Flagellum")
    (build
      (branch (alias Single)
        (face (alias :next-base) (grow 20 (scale .9)))))
    (shape
      (vulcanize)
      (replace-faces))
    (pretense :frozen))
  (fabric
    (name "Simple" "Tetrapod")
    (build
      (branch (alias Omni)
        (face (alias Top:Right) (grow 3 (scale .9)))
        (face (alias Bottom:Right) (grow 3 (scale .9)))
        (face (alias Back:Left) (grow 3 (scale .9)))
        (face (alias Front:Left) (grow 3 (scale .9)))
        ))
    (shape
      (vulcanize)
      (replace-faces))
    (pretense :bouncy))
  (fabric
    (name "Simple" "Twist8")
    (build
      (branch (alias Omni)
        (face (alias Top:Right) (grow 12 (scale .92) (mark :ring-a)))
        (face (alias Bottom:Right) (grow 13 (scale .92) (mark :ring-a)))
        (face (alias Back:Left) (grow 12 (scale .92) (mark :ring-b)))
        (face (alias Front:Left) (grow 13 (scale .92) (mark :ring-b)))
        ))
    (shape
      (countdown 15000 (join :ring-a) (join :ring-b))
      (remove-shapers)
      (countdown 20000 (vulcanize))
      (replace-faces))
    (pretense :bouncy))
  (fabric
    (name "Simple" "Bulge Ring")
    (build
      (branch (alias Single)
        (face (alias :base) (grow 8 (scale .92) (mark :tip)))
        (face (alias :next-base) (grow 9 (scale .92) (mark :tip)))))
    (shape (join :tip))
    (pretense :bouncy))
  (fabric
    (name "Art" "Halo by Crane")
    (build
      (branch (alias Single) (rotate) (rotate)
        (face (alias :next-base)
          (grow 4 (scale .92)
             (branch (alias Omni)
               (face (alias TopX) (grow 12 (scale .92) (mark :halo-end)))
               (face (alias TopY) (grow 11 (scale .92) (mark :halo-end))))))))
    (shape
      (join :halo-end)
      (countdown 30000 (remove-shapers)) ; TODO: should automatically happen before vulcanize
      (vulcanize)
      (replace-faces)))
  (fabric
    (name "Art" "K-10")
    (build
      (branch (alias Torque)
        (face (alias Left:Front:Bottom)
          (branch (alias Torque)
            (face (alias Far:Front) (grow 3))))
        (face (alias Left:Back:Bottom)
          (branch (alias Torque)
            (face (alias Far:Front) (grow 3))))
        (face (alias Right:Front:Bottom)
          (grow 1
            (branch (alias Torque) (rotate)
              (face (alias Far:Base) (grow 2)))))
        (face (alias Right:Back:Bottom)
          (grow 1
            (branch (alias Torque) (rotate)
              (face (alias Far:Base) (grow 2)))))))
    (shape
      (vulcanize)
      (replace-faces))
    (pretense :bouncy))
  (fabric
    (name "Art" "Tommy Torque")
    (build
      (branch (alias Omni)
        (face (alias Top:Left)
          (grow 1
            (branch (alias Torque)
              (face (alias Far:Front) (grow 3 (scale .85))))))
        (face (alias Top:Right)
          (grow 1
            (branch (alias Torque) (rotate)
              (face (alias Far:Front) (grow 3 (scale .85))))))
        (face (alias Back:Right)
          (branch (alias Torque) (rotate) (rotate)
            (face (alias Far:Back)
              (branch (alias Torque) (scale .5) (rotate)
                (face (alias Far:Side) (grow 1 (scale .5)))
                (face (alias Far:Back) (grow 1 (scale .5)))
                (face (alias Far:Front) (mark :sole))
                (face (alias Far:Base) (mark :sole))))))
        (face (alias Back:Left)
          (branch (alias Torque)
            (face (alias Far:Back)
              (branch (alias Torque) (scale .5) (rotate)
                (face (alias Far:Side) (grow 1 (scale .5)))
                (face (alias Far:Back) (grow 1 (scale .5)))
                (face (alias Far:Front) (mark :sole))
                (face (alias Far:Base) (mark :sole))))))))
    (shape
      (down :sole)
      (replace-faces))
    (pretense :frozen))
    (fabric
      (name "Art" "Headless Hug")
      (build
        (branch (alias Omni)
          (face (alias Bottom:Left) (grow "....X.." (scale .95) (mark :legs)))
          (face (alias Bottom:Right) (grow "....X.." (scale .95) (mark :legs)))
          (face (alias Top:Left)
            (grow 2 (scale .9)
              (branch (alias Omni)
                (face (alias TopZ) (mark :chest-1))
                (face (alias BotX) (mark :chest-2))
                (face (alias BotY) (grow "....X..." (scale .93) (mark :hands))))))
          (face (alias Top:Right)
            (grow 2 (scale .9)
              (branch (alias Omni)
                (face (alias TopY) (mark :chest-1))
                (face (alias BotZ) (mark :chest-2))
                (face (alias BotX) (grow "....X..." (scale .93) (mark :hands))))))))
      (shape
        (countdown 15000 (space :legs .3) (space :hands .3) (space :chest-1 .8) (space :chest-2 .2))
        (countdown 80000 (vulcanize))
        (remove-shapers)
        (replace-faces)))
  (fabric (name "Art" "Torque Island")
    (build
      (branch (alias Torque)
        (face (alias Left:Front:Bottom)
          (branch (alias Torque) (rotate) (rotate)
            (face (alias Far:Side) (mark :loose))))
        (face (alias Right:Front:Bottom)
          (branch (alias Torque) (rotate) (rotate)
            (face (alias Far:Side)
              (branch (alias Torque)
                (face (alias Far:Side) (mark :loose))))))))
    (shape
      (join :loose)
      (replace-faces))
    (pretense :bouncy))
  (brick ; single-right
    (proto
      (alias Single)
      (pushes X 3.204 (push :alpha_x :omega_x))
      (pushes Y 3.204 (push :alpha_y :omega_y))
      (pushes Z 3.204 (push :alpha_z :omega_z))
      (pulls 2.0
        (pull :alpha_x :omega_z :pull)
        (pull :alpha_y :omega_x :pull)
        (pull :alpha_z :omega_y :pull) )
      (faces
        (right :alpha_z :alpha_y :alpha_x (alias :right :base) (alias :seed :base))
        (right :omega_x :omega_y :omega_z (alias :right Top :next-base) (alias :seed :next-base))))
    (baked
      (alias Single)
      (joint -1.4913 -0.3875 0.0099)
      (joint 1.4913 -0.0099 0.3875)
      (joint 0.0099 -1.4913 -0.3875)
      (joint 0.3875 1.4913 -0.0099)
      (joint -0.3875 0.0099 -1.4913)
      (joint -0.0099 0.3875 1.4913)
      (joint -0.6229 -0.6229 -0.6229)
      (joint 0.6229 0.6229 0.6229)
      (interval 4 3 0.1171 :pull)
      (interval 4 5 -0.0531 :push)
      (interval 0 1 -0.0531 :push)
      (interval 2 1 0.1171 :pull)
      (interval 2 3 -0.0531 :push)
      (interval 0 5 0.1171 :pull)
      (right 4 2 0 (alias :base :right Single) (alias :base :seed Single))
      (right 1 3 5 (alias :next-base :right Single Top) (alias :next-base :seed Single)))
    )
  (brick ; single-left
    (proto
      (alias Single)
      (pushes X 3.204 (push :alpha_x :omega_x))
      (pushes Y 3.204 (push :alpha_y :omega_y))
      (pushes Z 3.204 (push :alpha_z :omega_z))
      (pulls 2.0
        (pull :alpha_x :omega_y :pull)
        (pull :alpha_y :omega_z :pull)
        (pull :alpha_z :omega_x :pull))
      (faces
        (left :alpha_x :alpha_y :alpha_z (alias :left :base) (alias :seed :base))
        (left :omega_z :omega_y :omega_x (alias :left Top :next-base) (alias :seed :next-base))))
    (baked
      (alias Single)
      (joint -1.4913 0.0099 -0.3875)
      (joint 1.4913 0.3875 -0.0099)
      (joint -0.3875 -1.4913 0.0099)
      (joint -0.0099 1.4913 0.3875)
      (joint 0.0099 -0.3875 -1.4913)
      (joint 0.3875 -0.0099 1.4913)
      (joint -0.6229 -0.6229 -0.6229)
      (joint 0.6229 0.6229 0.6229)
      (interval 0 3 0.1171 :pull)
      (interval 2 3 -0.0531 :push)
      (interval 0 1 -0.0531 :push)
      (interval 4 5 -0.0531 :push)
      (interval 2 5 0.1171 :pull)
      (interval 4 1 0.1171 :pull)
      (left 0 2 4 (alias :base :left Single) (alias :base :seed Single))
      (left 5 3 1 (alias :left :next-base Single Top) (alias :next-base :seed Single)))
    )
  (brick
    (proto (alias Omni)
      (pushes X 3.271 (push :bot_alpha_x :bot_omega_x) (push :top_alpha_x :top_omega_x))
      (pushes Y 3.271 (push :bot_alpha_y :bot_omega_y) (push :top_alpha_y :top_omega_y))
      (pushes Z 3.271 (push :bot_alpha_z :bot_omega_z) (push :top_alpha_z :top_omega_z))
      (faces
        (right :top_omega_x :top_omega_y :top_omega_z (alias :left Top) (alias :right :base) (alias :seed Top:Right))
        (left :top_omega_x :top_alpha_y :bot_omega_z (alias :left TopX) (alias :right BotX) (alias :seed Front:Right))
        (left :top_omega_y :top_alpha_z :bot_omega_x (alias :left TopY) (alias :right BotY) (alias :seed Back:Right))
        (left :top_omega_z :top_alpha_x :bot_omega_y (alias :left TopZ) (alias :right BotZ) (alias :seed Top:Left))
        (right :bot_alpha_z :bot_omega_x :top_alpha_y (alias :left BotZ) (alias :right TopZ) (alias :seed :base Bottom:Right))
        (right :bot_alpha_y :bot_omega_z :top_alpha_x (alias :left BotY) (alias :right TopY) (alias :seed Front:Left))
        (right :bot_alpha_x :bot_omega_y :top_alpha_z (alias :left BotX) (alias :right TopX) (alias :seed Back:Left))
        (left :bot_alpha_x :bot_alpha_y :bot_alpha_z (alias :left :base) (alias :right Top) (alias :seed :base Bottom:Left))
        ))
    (baked
      (alias Omni)
      (joint -1.5556 -0.0000 -0.7722)
      (joint 1.5556 -0.0000 -0.7722)
      (joint -1.5556 -0.0000 0.7722)
      (joint 1.5556 0.0000 0.7722)
      (joint -0.7722 -1.5556 0.0000)
      (joint -0.7722 1.5556 -0.0000)
      (joint 0.7722 -1.5556 0.0000)
      (joint 0.7722 1.5556 -0.0000)
      (joint -0.0000 -0.7722 -1.5556)
      (joint 0.0000 -0.7722 1.5556)
      (joint 0.0000 0.7722 -1.5556)
      (joint -0.0000 0.7722 1.5556)
      (joint 0.7758 0.7758 0.7758)
      (joint 0.7758 -0.7758 0.7758)
      (joint 0.7758 0.7758 -0.7758)
      (joint -0.7758 0.7758 0.7758)
      (joint 0.7758 -0.7758 -0.7758)
      (joint -0.7758 -0.7758 0.7758)
      (joint -0.7758 0.7758 -0.7758)
      (joint -0.7758 -0.7758 -0.7758)
      (interval 10 11 -0.0473 :push)
      (interval 6 7 -0.0473 :push)
      (interval 4 5 -0.0473 :push)
      (interval 8 9 -0.0473 :push)
      (interval 0 1 -0.0473 :push)
      (interval 2 3 -0.0473 :push)
      (right 8 1 6 (alias :left BotZ Omni) (alias :right Omni TopZ) (alias :base :seed Bottom:Right Omni))
      (right 4 9 2 (alias :left BotY Omni) (alias :right Omni TopY) (alias :seed Front:Left Omni))
      (right 3 7 11 (alias :left Omni Top) (alias :base :right Omni) (alias :seed Omni Top:Right))
      (left 11 2 5 (alias :left Omni TopZ) (alias :right BotZ Omni) (alias :seed Omni Top:Left))
      (left 3 6 9 (alias :left Omni TopX) (alias :right BotX Omni) (alias :seed Front:Right Omni))
      (left 0 4 8 (alias :base :left Omni) (alias :right Omni Top) (alias :base :seed Bottom:Left Omni))
      (left 7 10 1 (alias :left Omni TopY) (alias :right BotY Omni) (alias :seed Back:Right Omni))
      (right 0 5 10 (alias :left BotX Omni) (alias :right Omni TopX) (alias :seed Back:Left Omni)))
    )
  (brick
    (proto (alias Torque)
      (pushes X 3.467
        (push :left_front :left_back)
        (push :middle_front :middle_back)
        (push :right_front :right_back))
      (pushes Y 3.467
        (push :front_left_bottom :front_left_top)
        (push :front_right_bottom :front_right_top)
        (push :back_left_bottom :back_left_top)
        (push :back_right_bottom :back_right_top))
      (pushes Z 6.933
        (push :top_left :top_right)
        (push :bottom_left :bottom_right))
      (pulls 2.5
        (pull :middle_front :front_left_bottom :pull)
        (pull :middle_front :front_left_top :pull)
        (pull :middle_front :front_right_bottom :pull)
        (pull :middle_front :front_right_top :pull)
        (pull :middle_back :back_left_bottom :pull)
        (pull :middle_back :back_left_top :pull)
        (pull :middle_back :back_right_bottom :pull)
        (pull :middle_back :back_right_top :pull))
      (pulls 100.0
        (pull :back_right_bottom :front_left_bottom :north)
        (pull :back_right_top :front_left_top :south)
        (pull :back_left_bottom :front_right_bottom :south)
        (pull :back_left_top :front_right_top :north))
      (faces
        (left :bottom_left :left_front :front_left_bottom (alias :left :base) (alias :right Far:Side) (alias :seed Left:Front:Bottom :base))
        (right :bottom_left :left_back :back_left_bottom (alias :left Base:Back) (alias :right Far:Back) (alias :seed Left:Back:Bottom :base))
        (left :bottom_right :right_back :back_right_bottom (alias :left Far:Back) (alias :right Base:Back) (alias :seed Right:Back:Bottom :base))
        (right :bottom_right :right_front :front_right_bottom (alias :left Far:Side) (alias :right :base) (alias :seed Right:Front:Bottom :base))
        (left :top_left :left_back :back_left_top (alias :left Base:Side) (alias :right Far:Base) (alias :seed Left:Back:Top))
        (right :top_left :left_front :front_left_top (alias :left Base:Front) (alias :right Far:Front) (alias :seed Left:Front:Top))
        (left :top_right :right_front :front_right_top (alias :left Far:Front) (alias :right Base:Front) (alias :seed Right:Front:Top))
        (right :top_right :right_back :back_right_top (alias :left Far:Base) (alias :right Base:Side) (alias :seed Right:Back:Top))
        )
      )
    (baked
      (alias Torque)
      (joint -1.6517 0.0000 -2.6933)
      (joint 1.6517 0.0000 -2.6933)
      (joint -1.6916 -0.0000 0.0000)
      (joint 1.6916 0.0000 -0.0000)
      (joint -1.6517 -0.0000 2.6933)
      (joint 1.6517 0.0000 2.6933)
      (joint -1.0936 -1.6602 -2.0302)
      (joint -1.0936 1.6602 -2.0302)
      (joint -1.0936 -1.6602 2.0302)
      (joint -1.0936 1.6601 2.0302)
      (joint 1.0936 -1.6601 -2.0302)
      (joint 1.0936 1.6602 -2.0302)
      (joint 1.0936 -1.6601 2.0302)
      (joint 1.0936 1.6602 2.0302)
      (joint 0.0000 0.8056 -3.3251)
      (joint 0.0000 0.8056 3.3251)
      (joint 0.0000 -0.8056 -3.3251)
      (joint 0.0000 -0.8056 3.3251)
      (joint -0.9063 -0.8099 -2.6963)
      (joint 0.9063 -0.8099 -2.6963)
      (joint 0.9063 -0.8099 2.6963)
      (joint -0.9063 -0.8099 2.6963)
      (joint 0.9063 0.8099 -2.6963)
      (joint -0.9063 0.8099 -2.6963)
      (joint -0.9063 0.8099 2.6963)
      (joint 0.9063 0.8099 2.6963)
      (interval 14 15 -0.0393 :push)
      (interval 10 11 -0.0408 :push)
      (interval 3 13 0.0772 :pull)
      (interval 10 8 0.0000 :south)
      (interval 11 9 0.0000 :north)
      (interval 0 1 -0.0456 :push)
      (interval 2 7 0.0772 :pull)
      (interval 3 10 0.0772 :pull)
      (interval 2 9 0.0772 :pull)
      (interval 6 7 -0.0408 :push)
      (interval 12 6 0.0000 :north)
      (interval 12 13 -0.0408 :push)
      (interval 3 12 0.0772 :pull)
      (interval 3 11 0.0772 :pull)
      (interval 2 6 0.0772 :pull)
      (interval 2 3 -0.0229 :push)
      (interval 4 5 -0.0456 :push)
      (interval 8 9 -0.0408 :push)
      (interval 16 17 -0.0393 :push)
      (interval 13 7 0.0000 :south)
      (interval 2 8 0.0772 :pull)
      (right 16 1 10 (alias :left Base:Back Torque) (alias :right Far:Back Torque) (alias :base :seed Left:Back:Bottom Torque))
      (left 14 1 11 (alias :left Base:Side Torque) (alias :right Far:Base Torque) (alias :seed Left:Back:Top Torque))
      (right 14 0 7 (alias :left Base:Front Torque) (alias :right Far:Front Torque) (alias :seed Left:Front:Top Torque))
      (right 17 4 8 (alias :left Far:Side Torque) (alias :base :right Torque) (alias :base :seed Right:Front:Bottom Torque))
      (right 15 5 13 (alias :left Far:Base Torque) (alias :right Base:Side Torque) (alias :seed Right:Back:Top Torque))
      (left 17 5 12 (alias :left Far:Back Torque) (alias :right Base:Back Torque) (alias :base :seed Right:Back:Bottom Torque))
      (left 16 0 6 (alias :base :left Torque) (alias :right Far:Side Torque) (alias :base :seed Left:Front:Bottom Torque))
      (left 15 4 9 (alias :left Far:Front Torque) (alias :right Base:Front Torque) (alias :seed Right:Front:Top Torque)))
    )
  )


